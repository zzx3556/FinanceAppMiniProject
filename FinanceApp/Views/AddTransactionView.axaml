<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:FinanceApp.Views"
             x:Class="FinanceApp.Views.AddTransactionView"
             x:CompileBindings="False">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜è¡Œ -->
        <Grid Grid.Row="0" Margin="0,0,0,30">
            <TextBlock Text="æ·»åŠ æ–°äº¤æ˜“" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
            
            <Button x:Name="TopRightNavButton"
                    Content="ðŸ  è¿”å›žé¦–é¡µ" 
                    Command="{Binding NavigateToDashboardCommand}"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Padding="12,6"
                    Background="#2196F3"
                    Foreground="White"
                    BorderThickness="0"
                    CornerRadius="6"/>
        </Grid>

        <!-- è¡¨å•å†…å®¹ - å±…ä¸­æ˜¾ç¤º -->
        <Border Grid.Row="1" 
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="8"
                Padding="30"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">
            <Grid Width="400">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- æ—¥æœŸ -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="æ—¥æœŸ:" 
                               Width="80" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    <DatePicker x:Name="DatePicker" 
                                Width="250"
                                HorizontalAlignment="Left"/>
                </StackPanel>

                <!-- é‡‘é¢ -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="é‡‘é¢:" 
                               Width="80" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    <TextBox x:Name="AmountTextBox" 
                             Width="250" 
                             Text="0.00"
                             HorizontalAlignment="Left"/>
                </StackPanel>

                <!-- ç±»åž‹ -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="ç±»åž‹:" 
                               Width="80" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    <TextBox x:Name="TypeTextBox" 
                             Width="250" 
                             Watermark="è¾“å…¥'æ”¶å…¥'æˆ–'æ”¯å‡º'"
                             HorizontalAlignment="Left"/>
                </StackPanel>

                <!-- åˆ†ç±» -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="åˆ†ç±»:" 
                               Width="80" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    <TextBox x:Name="CategoryTextBox" 
                             Width="250" 
                             Watermark="ä¾‹å¦‚: é¤é¥®ã€å·¥èµ„ã€è´­ç‰©ç­‰"
                             HorizontalAlignment="Left"/>
                </StackPanel>

                <!-- è´¦æˆ· -->
                <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="è´¦æˆ·:" 
                               Width="80" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    <TextBox x:Name="AccountTextBox" 
                             Width="250" 
                             Watermark="ä¾‹å¦‚: å¾®ä¿¡ã€æ”¯ä»˜å®ã€é“¶è¡Œå¡ç­‰"
                             HorizontalAlignment="Left"/>
                </StackPanel>

                <!-- æè¿° -->
                <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="0,0,0,20">
                    <TextBlock Text="æè¿°:" 
                               Width="80" 
                               VerticalAlignment="Top"
                               FontWeight="SemiBold"/>
                    <TextBox x:Name="DescriptionTextBox" 
                             Width="250" 
                             Height="80" 
                             AcceptsReturn="True"
                             Watermark="äº¤æ˜“æè¿°"
                             HorizontalAlignment="Left"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- é‡å¤äº¤æ˜“æ£€æµ‹çŠ¶æ€æ˜¾ç¤º -->
        <Border Grid.Row="2" 
                Background="{Binding DuplicateMessage, Converter={x:Static views:StringConverters.DuplicateMessageToBackground}}"
                Padding="15,8"
                CornerRadius="6"
                Margin="0,20,0,20"
                HorizontalAlignment="Center"
                Width="400">
            <TextBlock x:Name="DuplicateMessageText" 
                       Text="{Binding DuplicateMessage}"
                       Foreground="{Binding DuplicateMessage, Converter={x:Static views:StringConverters.DuplicateMessageToForeground}}"
                       FontWeight="SemiBold"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"/>
        </Border>

        <!-- æŒ‰é’® -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    Spacing="15" 
                    HorizontalAlignment="Center">
            <Button x:Name="CancelButton" 
                    Content="å–æ¶ˆ" 
                    Width="100"
                    Height="36"
                    Background="#F5F5F5"
                    Foreground="#666666"
                    BorderThickness="1"
                    BorderBrush="#E0E0E0"
                    CornerRadius="6"/>
            <Button x:Name="SaveButton" 
                    Content="ä¿å­˜" 
                    Width="100"
                    Height="36"
                    Background="#4CAF50" 
                    Foreground="White"
                    BorderThickness="0"
                    CornerRadius="6"
                    FontWeight="SemiBold"/>
        </StackPanel>

    </Grid>
</UserControl>